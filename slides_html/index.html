<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>reveal.js</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css">
		<!-- <link rel="stylesheet" href="css/theme/preso.css"> -->

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<script src="js/d3.js" charset='utf-8'></script>

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
<section>
	<div>
		<h2><code>require('crypto')</code></h2>
		<h3>is a human right</h3>
	</div>
	<h4>cascadiafest</h4>
	<h4>2016</h4>
</section>

<section>
	<h3>encryption is about</h3>
	<h1>privacy and verification</h1>
	<aside class='notes'>
		<p>privacy is about keeping information secret</p>
		<p>verification is about identifying the creator of the information,
			verification can detect if the message has been tampered with</p>
		<p>combine privacy and verification and you get security</p>
	</aside>
</section>

<section>
<h3>UN Declaration of Human Rights</h3>
<h4>Article 12</h4>
<q>
	<div>No one shall be subjected to arbitrary interference</div>
	<div>with their privacy, family, home or correspondence,</div>
	<div>nor to attacks upon their honour and reputation.</div>
	<div>Everyone has the right to the protection of the law</div>
	<div>against such interference or attacks.</div>
</q>
<aside class='notes'>

</aside>
</section>

<section data-background-image=' img/lisa_computer.gif'>
	<h1>&nbsp</h1>
	<h1>&nbsp</h1>
	<h1>&nbsp</h1>
	<h1>&nbsp</h1>
	<h1>the hero</h1>
	<aside class='notes'>
		<p>the hero of the story today is the every-person, all of you, all of us</p>
	</aside>
</section>

<section data-background-image=' img/burns_suits.gif'>
	<h1>&nbsp</h1>
	<h1>&nbsp</h1>
	<h1>&nbsp</h1>
	<h1>&nbsp</h1>
	<h1>the villains</h1>
	<aside class='notes'>
		<p>the villains are the intelligence agencies, the military, and their corporate interests</p>
	</aside>
</section>

<section data-background-image='img/no_idea_what_im_doing.jpg'>
	<h1>**** - 1949</h1>
	<h1>&nbsp</h1>
	<h1>&nbsp</h1>
	<h1>&nbsp</h1>
	<h2>I have no idea what I'm doing</h2>
	<aside class='notes'>
		<p>early crypto is a grab bag of garbage and dumpster fires</p>
		<p>every system was fundamentally flawed in one way or another, somtimes many</p>
	</aside>
</section>

<section data-background-image='img/kenngruppenheft.jpg'>
	<h2>&nbsp</h2>
	<h2>&nbsp</h2>
	<h1 style='color: black;'>weak</h1>
	<h1 style='color: black;'>protocols</h1>
	<aside class='notes'>
		<p>they relied on weak protocols</p>
		<p>it didn't matter matter how good the messages were scrambled, the impelementation was poor</p>
		<p>if you fully understood the design or captured the code book it is game over</p>
		<p>once broken not only are all of the future messages exposed, all the previous messages are exposed</p>
		<p>worse still, someone can now impersonate soldiers in the field until you get a new codebook out</p>
	</aside>
</section>

<section data-background-image='img/colossus_computer_wheels.jpg'>
	<h2>&nbsp</h2>
	<h2>&nbsp</h2>
	<h2>&nbsp</h2>
	<h2>&nbsp</h2>
	<h2>&nbsp</h2>
	<h2>&nbsp</h2>
	<h1>FIRST COMPUTERS</h1>
	<aside class='notes'>
		<p>some of the first computers were built to target these weaknesses</p>
	</aside>
</section>

<section data-background-image='img/homer_joint.gif'>
	<h1>information theory</h1>
	<h1>&nbsp</h1>
	<h1>&nbsp</h1>
	<h4>1949</h4>
	<aside class='notes'>
		persons responsible for ciphers were very much at a disadvantage until 1949 with the advent of information theory
		mathematicians formalized the tools necessary to describe information transfer and storage
		the language to describe modern cryptosystems was invented in 1949
	</aside>
</section>

<section data-background-image='img/burns_snake.gif'>
	<h3>1951 - 1970</h3>
	<aside class='notes'>
		In 1951 the NSA is founded.
		During this period the NSA is feeling good.
		Anyone who wants to work on cryptography goes and works for them.
		They control the funding mechanisms for cryptography.
		They can also delcare patent applicaitons to be classified in the name of national security.
		All the knowledge is kept by them behind the triple-fence.
		Cryptosystems were used by spies and the military.
		If you wanted to work on these things you needed to agree with the philosophy behind those organizations.
	</aside>
</section>

<section data-background-image='img/skinner_money.gif'>
	<!-- <h1>&nbsp</h1>
	<h1>&nbsp</h1>
	<h1>&nbsp</h1>
	<h1>commerce</h1> -->
	<aside class='notes'>
		What changed things was the demand by commerce for a way to perform secure wire transfers.
		Banking was becoming computerized and performing wiretaps were trivial in the age of analog switched phones.
	</aside>
</section>

<section data-background-image='img/burns_float.gif'>
	<h1>1975</h1>
	<h1>&nbsp</h1>
	<h1>&nbsp</h1>
	<h1>DES</h1>
	<aside class='notes'>
		In 1975 we get DES.
		DES is the first serious attempt at a widespread standard for data security.
		It was successfully impelmented in chip, which made it easy to sell and use.
		An example is HBO used DES to scramble the signal when transmitting it over satellite.
		Even though the NSA was involved in the design of the cipher, the only in weakness in DES is that it shipped with a 56 bit key strength.
		The designers wanted a 128 bit length key, but hardware concerns limited it to 64 bit, and government interference down to 56 bits.
		Each single bit reduction cuts the strength in half.  100 bit is twice as strong as 99 bit.  99 bit twice as strong as 98.
		So think about the reduction in strength from 128 to 56.
	</aside>
</section>

<section>
	<h3>symmetric cryptography</h3>
	<aside class='notes'>
		Symmetric encryption is the easy to understand type of encryption.
		You have a key and an scrambling algorithm.
		You combine your data, the key, and the algorithm and you scramble your data.
		The recipient takes the same key and a reverse process to unscramble the data.
		If you can keep the key secret, this works really well.
	</aside>
</section>

<section data-background-image='img/homer_typing_bed.gif'>
	<h1>&nbsp</h1>
	<pre><code class='hljs'>
  const c = require('crypto')	// es6... (e_e)
  c.getCiphers()

  // (partial results)

	[ "aes128","aes192","aes256","blowfish",
	 "camellia128","camellia192","camellia256","cast",
	 "des","des3","desx","idea","rc2","rc2-40-cbc",
	 "rc2-64-cbc","rc4","rc4-40","seed" ]

</code></pre>
	<aside class='notes'>
		DES is still around.
		You can find it and other symmetric ciphers in nodejs by running getCiphers()
		This functionality is available to node because we link OpenSSL during compilation.
		Node crypto is powered by openssl.
	</aside>
</section>


<section data-background-image='img/burns_phone.gif'>
	<h1>secure telephony</h1>
	<aside class='notes'>
		IBM needed a way for their mainframes to talk to one another in a secure way.
		They also needed a way to store information at rest.
		Their researchers with the assistance of the NSA succeded in their task.
		They created a block-cipher which took a fixed block of bytes, and performed multiple rounds of permutations.
		Specifically the permutations are multiple rounts of shuffling and substitution.
	</aside>
</section>

<section>
	<h1>s-box</h1>
	<img src='img/s-box.png'></img>
	<aside class='notes'>
		This is the hardest to understand part of modern symmetric encryption.
		Each round of encryption you take a chunk of bytes, and perform a lookup operation with the values themselves.
		You take your current value, and use it to find the new value.
		Your chunk is 68. Go find (6, 8) > 45.  Now next round your chunk is 45.
		Do that 12 or 16 times combined with a shuffle operation after each step and you have the makings of a strong block cipher.
		These s-boxes are hardcoded, and the values in the s-boxes are what makes them strong.
		The NSA provided the s-boxes for DES.
		Since the operation is so complex there is no way to verify that there is no hidden trap door in the s-box
		Does the NSA have a special set of decoder s-boxes that allow them to more quickly guess your key?
	</aside>
</section>

<section>
<pre><code class='hljs'>// des example
var crypto = require('crypto'); var assert = require('assert')
var key = 'p4ssw0rd'; var message = 'hello cascadiafest!'
// encrypt
var cipher = crypto.createCipher('des', key)
var cipher_text = cipher.update(message, 'utf8', 'hex')
cipher_text += cipher.final('hex')
// decrypt
var decipher = crypto.createDecipher('des', key)
var plain_text = decipher.update(cipher_text, 'hex', 'utf8')
plain_text += decipher.final('utf8')

assert.equal(plain_text, message)
</code></pre>
	<aside class='notes'>
		So back to DES... it was a hit, we still use a version of it today.
		Even thoug the NSA reduced the key size in their recommendation, it was secure and widespread.
		It put cryptography outside of the realm of the military and spies.
		It is about to become an industry.
	</aside>
</section>

<section data-background-image='img/homer_jug_thinking.gif'>
	<h1>late 1970s</h1>
	<h1><br><br><br><br></h1>
	<aside class='notes'>
		This got everyone thinking hard about everything to do with codes and ciphers.
		Where can we apply these ideas and make money?
	</aside>
</section>

<section data-background-image='img/homer_rasta_walk.gif'>
	<h1>&nbsp</h1>
	<h1>&nbsp</h1>
	<h1>&nbsp</h1>
	<h1>1976</h1>
	<aside class='notes'>
		It wasn't all commerce and banking.  A bunch of these types of folks got involved.
		Californians...
		Whit Diffie and Martin Hellman published a seminal paper on public key cryptography.
	</aside>
</section>

<section>
	<h1><strike>symmetric</strike></h1>
	<h1>asymmetric encryption</h1>
	<aside class='notes'>
		A bunch of smart folks focused on the most obvious limitations of symmetric crypto
		which is that no matter how strong the cipher or the s-box or how many rounds of
		permutations you perform, someone can get your key when you have to do the all important
		transfer between parties
	</aside>
</section>

<section>
	<h1>one way functions</h1>
	<aside class='notes'>
		overcoming this limitation lies in applying a group of math operations called
		one-way-functions
	</aside>
</section>

<section>
	<h1>a = b + c</h1>
	<h1>b = a - c</h1>
	<h1>c = a - b</h1>
	<h3>easy</h3>
	<aside class='notes'>
		this isn't a two-way function, that's something else, but these are not one-way-functions
		given components of the equation you can derive all the other fields by performing inversed operations
	</aside>
</section>

<section>
	<h1>a<sup>x</sup> = c</h1>
	<h3>given A and C</h3>
	<h3>solve for X</h3>
	<h1>not easy</h1>
	<aside class='notes'>
		this is an issue when your equations look like this
		that exponent really complicates matters
		there isn't an efficient one-step solution to this problem
	</aside>
</section>

<section>
	<h5>diffie-hellman key exchange</h5>
	<h1>g<sup>x</sup> mod p = public</h1>
	<h3>you are given G and P</h3>
	<h3>choose a large X</h3>
	<h3>it is your secret</h3>
	<aside class='notes'>
		there were a few others in the running, but the propsal that caught on is called the diffie hellman key exchange
		it defines
	</aside>
</section>

<section>
	<h4>math</h4>
	<hr>
	<h1>5 mod 2 = 1</h1>
	<h2>2 √ 5 = 2, remainder 1</h2>
	<hr>
	<h1>4 mod 2 = 0</h1>
	<h2>2 √ 4 = 2, remainder 0</h2>
	<hr>
	<aside class='notes'>
	</aside>
</section>

<section>
	<h1><span style='color: white;'>g</span><sup style='color: rgb(33,66,255);'>x</sup><span style='color: white;'> mod p</span> = <span style='color: rgb(33,66,255);'>pub1</span></h1>
	<h1><span style='color: white;'>g</span><sup style='color: rgb(33,255,66);'>y</sup><span style='color: white;'> mod p</span>= <span style='color: rgb(33, 255, 66);'>pub2</span></h1>
	<h1>
	<span style='color: rgb(33, 255, 66);'>pub2</span><sup style='color: rgb(33,66,255);'>x</sup>
	<span style='color: white'> mod p = </span>
	<span style='color: rgb(255,66,33);'>c</h1>
	<h1>
		<span style='color: rgb(33,66,255);'>pub1</span><sup style='color: rgb(33,255,66);'>y</sup>
		<span style='color: white;'> mod p =</span>
		<span style='color: rgb(255,66,33);'>c
	</h1>
	<aside class='notes'>
	</aside>
</section>

<section>
	<h1>a = g<sup>x</sup> mod p</h1>
<pre><code class='hljs'>// a = (g ^ x) mod p
const crypto = require('crypto');

// Generate Alice's keys...
const alice = crypto.createDiffieHellman(2048);
// or const alice = crypto.getDiffieHellman('modp14');
const alice_key = alice.generateKeys();

alice_key.getPublicKey()   // a
alice_key.getGenerator()   // g
alice_key.getPrivateKey()  // x
alice_key.getPrime()       // p
</code></pre>
	<aside class='notes'>
	</aside>
</section>

<section data-background-image='img/homer_barney_harmonica.gif'>
	<h1>&nbsp</h1>
	<h1>&nbsp</h1>
	<h1>&nbsp</h1>
	<h1>shared secret</h1>
	<aside class='notes'>
		Diffie-Hellman is built on the concept of a shared secret that cannot be easily derived given everything but the secret numbers.
	</aside>
</section>

<section data-background-image='img/cat_fire.gif'>
	<h1></h1>
	<aside class='notes'>
		Now you both know something derived from combining the other persons public
		information with your private information.
		You can use this unique value as the key for your symmetric encryption cipher.
	</aside>
</section>

<section data-background-image='img/kids_fruit_race.gif'>
	<h1>diffie-hellman 1976</h1>
	<h1>rsa 1977</h1>
	<h1>(dsa 1991)</h1>
	<aside class='notes'>
		After the Diffie Hellman key exchange paper was published, the RSA algorithm was published.
		RSA took DH a few steps further beyond key generation and exchange protocol.
		It also defined an encryption and decryption mechanism.
	</aside>
</section>

<section data-background-image='img/homer_woop_woop.gif'>
	<h1>&nbsp</h1>
	<h1>&nbsp</h1>
	<h1>&nbsp</h1>
	<h1>RSA Security Inc</h1>
	<h1>founded, 1982</h1>
	<aside class='notes'>
		RSA founded to commercialize public key encryption.
		They negotiated use of the patent from MIT and set to work.
		Note: The patent on RSA expired in september of 2000.
	</aside>
</section>

<section data-background-image='img/homer_laughing.gif'>
<h1>1983</h1>
	<h1>hardware company</h1>
	<aside class='notes'>
		They had a problem.
		People have to understand how it works in order to trust it.
		Symmteric encryption is easy, a key locks and unlocks a door.
		Asymmetric encryption is college level math.
		Understanding that your key becomes a different key when you use it in someone elses lock, that's really difficult to understand how that works.
		Also you have two keys now... RSA wanted to simpifly things.  Put it on a chip.
		It didn't work.
	</aside>
</section>

<section data-background-image='img/homer_laughing_skeletons.gif'>
	<h1>1985</h1>
	<h1>software company</h1>
	<aside class='notes'>
		They shifted away from chip making and focused on licensing the
		technology in other products.  Your email would be protected by RSA and
		there would be a sticker on the box for your email program, RSA Inside.
	</aside>
</section>

<section >
	<h1><span style='color: rgb(33,255,66);'>CT</span> = <span style='color: rgb(255,255,66);'>PT</span><sup style='color: rgb(33,66,255);'>e</sup> mod <span  style='color: rgb(33,66,255);'>n</span></h1>
	<h1><span style='color: rgb(255,255,66);'>PT</span> = <span style='color: rgb(33,255,66);'>CT</span><sup style='color: rgb(255,66,33);'>D</sup> mod <span  style='color: rgb(33,66,255);'>n</span></h1>
	<h1 style='color: rgb(33,66,255);'>public key (e,n)</h1>
	<h1 style='color: rgb(255,66,33);'>private key (d)</h1>
	<aside class='notes'>
		Here is a description of the algorithm.
		RSA is different from diffie-hellman in that it doesn't rely on the shared secret model.
		RSA specifies a key generation routine, which I'm not describing here.
		RSA comes with encryption and decryption operations.
		You take another persons public key and your private key and you encrypt a random string of information, that is your symmetric key.
	</aside>
</section>

<section>
	<h2>sign</h2>
	<h3><span style='color: rgb(33,66,255);'>signature</span> = <span style='color: rgb(255,66,66);'>encrypt</span> ( <span style='color: rgb(255,255,66);'>hash</span>( <span style='color: rgb(33,255,66);'>msg</span> ) )</h3>
	<h1>&nbsp</h1>
	<h2>verify</h2>
	<h3><span style='color: rgb(255,255,66);'>hash</span>( <span style='color: rgb(33,255,66);'>msg</span> ) = <span style='color: rgb(255,188,255);'>decrypt</span> ( <span style='color: rgb(33,66,255);'>signature</span> )</h3>
	<aside class='notes'>
		Another feature of RSA is the signature and verification routines.
		I can prove I sent an email by taking the contents, hashing them, then encrypting the hash with my private key.
		You can take my public key and decrypt the hash and compare it with a hash you create of the message contents.
		If the decrypted hash, and your calculated hash mapped you can know that only the person with the private key signed this message.
	</aside>
</section>

<section data-background-image='img/homer_wave.gif'>
	<h1>1989</h1>
	<h1>lotus notes</h1>
	<aside class='notes'>
		RSA is licensed to be used in Lotus Notes.  They wanted to use a combination
		of RSA and DES for the encryption but the NSA would not allow them to export DES.
		So the RSA people invented the RC-2 cipher at two strengths, 64bit and 40 bit.
	</aside>
</section>


<section data-background-image='img/homer_snakes_box.gif'>
	<h1>1991</h1>
	<h1>pgp</h1>
	<aside class='notes'>
		pgp version 1.0 released using a combination of RSA and a symmetric cipher
		called bassomatic
		yes from the saturday night live sketch
	</aside>
</section>

<section data-background-image='img/International_Data_Encryption_Algorithm_InfoBox_Diagram.svg.png'>
	<h1>&nbsp</h1>
	<h1>1992, pgp v2</h1>
	<aside class='notes'>
		version 2 used stronger RSA keys and a new symmetric cipher called idea
		or international data encryption algorithm that used a 128 bit key
	</aside>
</section>

<section data-background-image='img/bart_lisa_fighting.gif'>
	<h1>1993</h1>
	<aside class='notes'>
		in 1993 RSA security reports the PGP creators to the us export and customs for violating the rsa patent
	</aside>
</section>

<section data-background-image='img/homer_money_thinking.gif'>
	<h1></h1>
	<aside class='notes'>
		he then sells pgp to a company that owns a license for RSA
	</aside>
</section>

<section data-background-image='img/homer_end_is_near.gif'>
	<aside class='notes'>
		but just a month later the San Jose customs office opens up a formal criminal investigation
		regarding the illegal export of a munitions without a license
		then in 1997 the case closes with no charges filed
		it's all just threats
	</aside>
</section>

<section data-background-image='img/burns_alien.gif'>
	<h1>key escrow</h1>
	<aside class='notes'>
		so the whole time they are investigating email and software people for their
		strong encryption the government is pushing their solution for all this mess
		a device called the clipper chip, would be built into your phone, and before you
		could make an encrypted connection with your 2nd party, a 3rd party would be
		given some or all of the symmetric keys to your encrypted call
	</aside>
</section>

<section data-background-image='img/burns_icedcream.gif'>
	<h1></h1>
	<aside class='notes'>
		so if the courts needed the contents of an encrypted wiretap,
		(which would sound like a wall of hissing)
		they could supoena the key from the 3rd party and get the information they wanted
	</aside>
</section>

<section data-background-image='img/homer_otto_catbus.gif'>
	<h1></h1>
	<aside class='notes'>
		nobody wanted on this train
		not even after the government decided that there would be some flexibility
		in who the 3rd party was - the idea of a data vault meant that banks were suggested
		as the keepers of the keys
	</aside>
</section>

<section data-background-image='img/homer_cereal_fail.gif'>
	<h1></h1>
	<aside class='notes'>
		the real nail in the coffin for key escrow was that the implementations failed
		  miserably under the smallest bit of scrutiny
		researchers were able to bypass the mechanisms that enforced the key escow on the first day
		the first crack meant waiting 40 minutes on hold before the connection was brute forced
		and faster attacks appeared later
	</aside>
</section>

<section data-background-image='img/homer_falls_down.gif'>
	<h1></h1>
	<aside class='notes'>
		all of this was taking place in the media and the court of public opinion
		the moment the news cycle shifted to clipper is broken and key escrow fails the government drops their pressure
	</aside>
</section>

<section data-background-image='img/people_cheer_pot.gif'>
	<h1>liberalization</h1>
	<aside class='notes'>
		1996 An executive order comes down that transfers control of crypto from munitions regulators to the commerce department
		1997 Banks are allowed unrestricted encryption access without key recovery, also you can export 56 bit crypto instead of 40 bit
		1998 Al Gore is about to start his campaign for president and they issue a memo
	</aside>
</section>

<section data-background-image='img/lisa_meats_hotdog.gif'>
	<h1>review</h1>
	<aside class='notes'>
		before I talk about the threats of today I want to review a few concepts and how they relate
		crypto is more than just a set of algorithms,
		it's the implementation of a set of protocols that define
		  key generation,
			key distribution,
			rings of trust,
			handshake protocols,
			trusted and untrusted pipes
		every step brings with it benefits and drawbacks
		you can't just say "Oh I'll use RSA and AES" and leave it at that
	</aside>
</section>


<section data-background-image='img/homer_anticipating.gif'>
	<h1>Today</h1>
	<aside class='notes'>
		Snoopers charter means logging all your session keys.
	</aside>
</section>



<section data-background-image='img/burns_icedcream.gif'>
	<h1></h1>
	<aside class='notes'>
	</aside>
</section>

<section data-background-image='img/burns_icedcream.gif'>
	<h1></h1>
	<aside class='notes'>
	</aside>
</section>

<section data-background-image='img/burns_icedcream.gif'>
	<h1></h1>
	<aside class='notes'>
	</aside>
</section>

<section data-background-image='img/burns_icedcream.gif'>
	<h1></h1>
	<aside class='notes'>
	</aside>
</section>

<section data-background-image='img/burns_icedcream.gif'>
	<h1></h1>
	<aside class='notes'>
	</aside>
</section>


			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>


		<script>
			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				history: true,


				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
